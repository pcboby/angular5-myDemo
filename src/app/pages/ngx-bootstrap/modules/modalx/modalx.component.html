<div class="row mb-3">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-header">Modals</div>
            <div class="card-body">

                <div class="mb-3">
                    <h4>Service examples</h4>
                    <p>Modals are streamlined, but flexible, dialog prompts with the minimum required functionality and smart defaults.</p>
                </div>

                <div>
                    <button type="button" class="btn btn-primary" (click)="openModal(template)">Create template modal</button>

                    <ng-template #template>
                        <div class="modal-header">
                            <h4 class="modal-title pull-left">Modal</h4>
                            <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                          <span aria-hidden="true">&times;</span>
                        </button>
                        </div>
                        <div class="modal-body">
                            This is a modal.
                        </div>
                    </ng-template>
                </div>

                <hr>
                <div class="mb-3">
                    <h4>Nested</h4>
                    <p>Nested modals are supported</p>
                </div>
                <div>
                    <button type="button" class="btn btn-primary" (click)="openModal1(template1)">Open first modal</button>

                    <ng-template #template1>
                        <div class="modal-header">
                            <h4 class="modal-title pull-left">First modal</h4>
                            <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                          <span aria-hidden="true">&times;</span>
                        </button>
                        </div>
                        <div class="modal-body">
                            This is a first modal
                            <button type="button" class="btn btn-primary" (click)="openModal2(templateNested)">Open second modal</button>
                        </div>
                    </ng-template>

                    <ng-template #templateNested>
                        <div class="modal-header">
                            <h4 class="modal-title pull-left">Second modal</h4>
                            <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef2.hide()">
                          <span aria-hidden="true">&times;</span>
                        </button>
                        </div>
                        <div class="modal-body">
                            This is nested modal.<br>
                            <button *ngIf="modalRef" type="button" class="btn btn-danger" (click)="closeFirstModal()">Close first modal</button>
                        </div>
                    </ng-template>
                </div>

                <hr>
                <div class="mb-3">
                    <h4>Component</h4>
                    <p>Creating a modal with component just as easy as it is with template. Just pass your component in .show() method as in example, and don't forget to include your component to entryComponents of your NgModule If you passed a component
                        to .show() you can get access to opened modal by injecting BsModalRef. See example for more info</p>
                </div>
                <div>
                    <button type="button" class="btn btn-primary" (click)="openModalWithComponent()">Create modal with component</button>
                </div>

                <hr>
                <div class="mb-3">
                    <h4>Events</h4>
                    <p>Modal service events. Modal service exposes 4 events: onShow, onShown, onHide, onHidden. See usage example below.</p>
                    <p>onHide and onHidden emit dismiss reason. Possible values are backdrop-click, esc or null if modal was closed by direct call of hide()</p>
                </div>
                <div>
                    <button type="button" class="btn btn-primary" (click)="openEventModal(eventTemplate)">Open modal</button>
                    <br><br>

                    <ng-template #eventTemplate>
                        <div class="modal-header">
                            <h4 class="modal-title pull-left">Modal</h4>
                            <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                          <span aria-hidden="true">&times;</span>
                        </button>
                        </div>
                        <div class="modal-body">
                            This is a modal
                        </div>
                    </ng-template>
                </div>

                <div class="alert alert-info mb-0">
                    <p *ngFor="let message of messages">{{message}}</p>
                </div>

                <hr>

                <div class="mb-3">
                    <h4>Confirm Window</h4>
                    <p>Modal with buttons to confirm.</p>
                </div>
                <div>
                    <button type="button" class="btn btn-primary" (click)="openWindowModal(windowTemplate)">Open modal</button>

                    <ng-template #windowTemplate>
                        <div class="modal-body text-center">
                            <p>Do you want to confirm?</p>
                            <button type="button" class="btn btn-default" (click)="confirm()">Yes</button>
                            <button type="button" class="btn btn-primary" (click)="decline()">No</button>
                        </div>
                    </ng-template>
                </div>

                <div class="alert alert-info mb-0">
                    <p>{{windowMessage}}</p>
                </div>
                <div class="mb-3">
                    <h4>Options</h4>
                    <p>There are some options that you can configure, like animation, backdrop, closing by Esc button, additional css classes. See the demo below to learn how to configure your modal</p>
                </div>
                <div class="mb-3">
                    <button type="button" class="btn btn-primary" (click)="openOptionsModal(optionsTemplate)">Open modal</button>
                    <button type="button" class="btn btn-primary" (click)="openModalWithClass(optionsTemplate)">Open modal with custom css class</button>
                    <br>
                    <br>
                    <button type="button" class="btn btn-primary btn-sm" (click)="config.animated = !config.animated">{{config.animated ? 'Disable' : 'Enable'}} animation</button>
                    <button type="button" class="btn btn-primary btn-sm" (click)="config.keyboard = !config.keyboard">{{config.keyboard ? 'Disable' : 'Enable'}} Esc</button>
                    <button type="button" class="btn btn-primary btn-sm" (click)="config.backdrop = !config.backdrop">{{config.backdrop ? 'Disable' : 'Enable'}} backdrop</button>
                    <button type="button" class="btn btn-primary btn-sm" (click)="config.ignoreBackdropClick = !config.ignoreBackdropClick">{{!config.ignoreBackdropClick ? 'Disable' : 'Enable'}} backdrop click</button>

                    <ng-template #optionsTemplate>
                        <div class="modal-header">
                            <h4 class="modal-title pull-left">Modal</h4>
                            <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                          <span aria-hidden="true">&times;</span>
                        </button>
                        </div>
                        <div class="modal-body">
                            Just a modal with a bunch of words inside, nothing serious.
                        </div>
                    </ng-template>
                </div>
                <div class="alert alert-info mb-0">
                    <p>config: {{config | json}}</p>
                </div>

                <hr>

                <div class="mb-3">
                    <h4>Static modal</h4>
                </div>
                <div>
                    <button type="button" class="btn btn-primary" (click)="staticModal.show()">Static modal</button>

                    <div class="modal fade" bsModal #staticModal="bs-modal" [config]="{backdrop: 'static'}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-sm">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title pull-left">Static modal</h4>
                                    <button type="button" class="close pull-right" aria-label="Close" (click)="staticModal.hide()">
                              <span aria-hidden="true">&times;</span>
                            </button>
                                </div>
                                <div class="modal-body">
                                    This is static modal, backdrop click will not close it. Click <b>&times;</b> to close modal.
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-primary" (click)="lgModal.show()">Large modal</button>

                    <div bsModal #lgModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title pull-left">Large modal</h4>
                                    <button type="button" class="close pull-right" (click)="lgModal.hide()" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                <div class="modal-body">
                                    ...
                                </div>
                            </div>
                        </div>
                    </div>


                    <!--Small modal-->
                    <button type="button" class="btn btn-primary" (click)="smModal.show()">Small modal</button>

                    <div bsModal #smModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-sm">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title pull-left">Small modal</h4>
                                    <button type="button" class="close pull-right" aria-label="Close" (click)="smModal.hide()">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    ...
                                </div>
                            </div>
                        </div>
                    </div>

                    <button type="button" class="btn btn-primary" (click)="showChildModal()">Open child modal</button>
                    <div bsModal #childModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-sm">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title pull-left">Child modal</h4>
                                    <button type="button" class="close pull-right" aria-label="Close" (click)="hideChildModal()">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    I am a child modal, opened from parent component!
                                </div>
                            </div>
                        </div>
                    </div>

                    <button type="button" class="btn btn-primary" (click)="parentModal.show()">Open parent modal</button>
                    <div class="modal fade" bsModal #parentModal="bs-modal" tabindex="-1" role="dialog" aria-hidden="true">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title pull-left">First modal</h4>
                                    <button type="button" class="close pull-right" aria-label="Close" (click)="parentModal.hide()">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                <div class="modal-body">
                                    <button type="button" class="btn btn-primary" (click)="childModal.show()">Open second modal</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="modal fade" bsModal #childModal="bs-modal" tabindex="-1" role="dialog" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title pull-left">Second modal</h4>
                                    <button type="button" class="close pull-right" aria-label="Close" (click)="childModal.hide()">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                <div class="modal-body">
                                    This is second modal <br>
                                    <button type="button" class="btn btn-primary" (click)="thirdModal.show()">Open third modal</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="modal fade" bsModal #thirdModal="bs-modal" tabindex="-1" role="dialog" aria-hidden="true">
                        <div class="modal-dialog modal-sm">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title pull-left">Third modal</h4>
                                    <button type="button" class="close pull-right" aria-label="Close" (click)="thirdModal.hide()">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                <div class="modal-body">
                                    This is third modal <br> Click <b>&times;</b> to close modal.
                                </div>
                            </div>
                        </div>
                    </div>




                </div>
            </div>
        </div>
    </div>
</div>